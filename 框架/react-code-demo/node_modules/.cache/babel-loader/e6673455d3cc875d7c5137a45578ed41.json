{"ast":null,"code":"var _jsxFileName = \"/Users/xuanqiyan/Desktop/\\u9762\\u8BD5\\u9636\\u6BB5/\\u9762\\u8BD5\\u9898/\\u6846\\u67B6/react-code-demo/src/components/baseUse/EventDemo.js\";\nimport React from 'react';\n\nclass EventDemo extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clickHandler2 = () => {\n      this.setState({\n        name: 'lisi'\n      });\n    };\n\n    this.clickHandler3 = event => {\n      event.preventDefault(); // 阻止默认行为\n\n      event.stopPropagation(); // 阻止冒泡\n\n      console.log('target', event.target); // 指向当前元素，即当前元素触发\n\n      console.log('current target', event.currentTarget); // 指向当前元素，假象！！！\n      // 注意:event 其实是 React 封装的, 可以看 __proto__.constructor 是 SyntheticEvent 组合事件\n\n      console.log('event', event); // 不是原生的 Event ，原生的 MouseEvent\n\n      console.log('event.__proto__.constructor', event.__proto__.constructor); // 原生 event 如下: 其 __proto__.constructor 是 MouseEvent\n\n      console.log('nativeEvent', event.nativeEvent);\n      console.log('nativeEvent target', event.nativeEvent.target); // 指向当前元素，即当前元素触发\n\n      console.log('nativeEvent current target', event.nativeEvent.currentTarget); // 指向 document ！！！\n      // 1. event 是 SyntheticEvent ，模拟出来 DOM 事件所有能力\n      // 2. event.nativeEvent 是原生事件对象\n      // 3. 所有的事件，都被挂载到 document 上\n      // 4. 和 DOM 事件不一样，和 Vue 事件也不一样\n    };\n\n    this.state = {\n      name: 'zhangsan',\n      list: [{\n        id: 'id-1',\n        title: '标题1'\n      }, {\n        id: 'id-2',\n        title: '标题2'\n      }, {\n        id: 'id-3',\n        title: '标题3'\n      }]\n    }; // 修改方法的 this 指向  只绑定一次（性能提升）\n    //this.clickHandler1 = this.clickHandler1.bind(this)\n  }\n\n  render() {\n    // this - 使用 bind （每点击一次绑定一次this 性能不好）\n    return React.createElement(\"p\", {\n      onClick: this.clickHandler1.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, this.state.name); // // this - 使用静态方法\n    // return <p onClick={this.clickHandler2}>\n    //    {this.state.name}\n    // </p>\n    // // event\n    // return <a href=\"http://baidu.com\" onClick={this.clickHandler3}>\n    //     click me\n    // </a>\n    // // 传递参数 - 用 bind(this, a, b)\n    // return <ul>{this.state.list.map((item, index) => {\n    //     return <li key={item.id} onClick={this.clickHandler4.bind(this, item.id, item.title)}>\n    //         index {index}; title {item.title}\n    //     </li>\n    // })}</ul>\n  }\n\n  clickHandler1() {\n    console.log('this....', this); // this 默认是 undefined\n\n    this.setState({\n      name: 'lisi'\n    });\n  } // 静态方法，this 指向当前实例\n\n\n  // 传递参数\n  clickHandler4(id, title, event) {\n    console.log(id, title);\n    console.log('event', event); // 最后追加一个参数，即可接收 event\n  }\n\n}\n\nexport default EventDemo;","map":{"version":3,"sources":["/Users/xuanqiyan/Desktop/面试阶段/面试题/框架/react-code-demo/src/components/baseUse/EventDemo.js"],"names":["React","EventDemo","Component","constructor","props","clickHandler2","setState","name","clickHandler3","event","preventDefault","stopPropagation","console","log","target","currentTarget","__proto__","nativeEvent","state","list","id","title","render","clickHandler1","bind","clickHandler4"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,SAAN,SAAwBD,KAAK,CAACE,SAA9B,CAAwC;AACpCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAqDnBC,aArDmB,GAqDH,MAAM;AAClB,WAAKC,QAAL,CAAc;AACVC,QAAAA,IAAI,EAAE;AADI,OAAd;AAGH,KAzDkB;;AAAA,SA2DnBC,aA3DmB,GA2DFC,KAAD,IAAW;AACvBA,MAAAA,KAAK,CAACC,cAAN,GADuB,CACC;;AACxBD,MAAAA,KAAK,CAACE,eAAN,GAFuB,CAEC;;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,KAAK,CAACK,MAA5B,EAHuB,CAGa;;AACpCF,MAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BJ,KAAK,CAACM,aAApC,EAJuB,CAI4B;AAEnD;;AACAH,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB,EAPuB,CAOK;;AAC5BG,MAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CJ,KAAK,CAACO,SAAN,CAAgBb,WAA3D,EARuB,CAUvB;;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BJ,KAAK,CAACQ,WAAjC;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCJ,KAAK,CAACQ,WAAN,CAAkBH,MAApD,EAZuB,CAYsC;;AAC7DF,MAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CJ,KAAK,CAACQ,WAAN,CAAkBF,aAA5D,EAbuB,CAaoD;AAE3E;AACA;AACA;AACA;AACH,KA9EkB;;AAEf,SAAKG,KAAL,GAAa;AACTX,MAAAA,IAAI,EAAE,UADG;AAETY,MAAAA,IAAI,EAAE,CACF;AACIC,QAAAA,EAAE,EAAE,MADR;AAEIC,QAAAA,KAAK,EAAE;AAFX,OADE,EAKF;AACID,QAAAA,EAAE,EAAE,MADR;AAEIC,QAAAA,KAAK,EAAE;AAFX,OALE,EASF;AACID,QAAAA,EAAE,EAAE,MADR;AAEIC,QAAAA,KAAK,EAAE;AAFX,OATE;AAFG,KAAb,CAFe,CAoBf;AACA;AACH;;AACDC,EAAAA,MAAM,GAAG;AACL;AACA,WAAO;AAAG,MAAA,OAAO,EAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACF,KAAKN,KAAL,CAAWX,IADT,CAAP,CAFK,CAML;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACH;;AACDgB,EAAAA,aAAa,GAAG;AACZX,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwB,IAAxB,EADY,CACkB;;AAC9B,SAAKP,QAAL,CAAc;AACVC,MAAAA,IAAI,EAAE;AADI,KAAd;AAGH,GApDmC,CAqDpC;;;AA2BA;AACAkB,EAAAA,aAAa,CAACL,EAAD,EAAKC,KAAL,EAAYZ,KAAZ,EAAmB;AAC5BG,IAAAA,OAAO,CAACC,GAAR,CAAYO,EAAZ,EAAgBC,KAAhB;AACAT,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB,EAF4B,CAEA;AAC/B;;AApFmC;;AAuFxC,eAAeR,SAAf","sourcesContent":["import React from 'react'\n\nclass EventDemo extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            name: 'zhangsan',\n            list: [\n                {\n                    id: 'id-1',\n                    title: '标题1'\n                },\n                {\n                    id: 'id-2',\n                    title: '标题2'\n                },\n                {\n                    id: 'id-3',\n                    title: '标题3'\n                }\n            ]\n        }\n\n        // 修改方法的 this 指向  只绑定一次（性能提升）\n        //this.clickHandler1 = this.clickHandler1.bind(this)\n    }\n    render() {\n        // this - 使用 bind （每点击一次绑定一次this 性能不好）\n        return <p onClick={this.clickHandler1.bind(this)}>\n            {this.state.name}\n        </p>\n\n        // // this - 使用静态方法\n        // return <p onClick={this.clickHandler2}>\n        //    {this.state.name}\n        // </p>\n\n        // // event\n        // return <a href=\"http://baidu.com\" onClick={this.clickHandler3}>\n        //     click me\n        // </a>\n\n        // // 传递参数 - 用 bind(this, a, b)\n        // return <ul>{this.state.list.map((item, index) => {\n        //     return <li key={item.id} onClick={this.clickHandler4.bind(this, item.id, item.title)}>\n        //         index {index}; title {item.title}\n        //     </li>\n        // })}</ul>\n    }\n    clickHandler1() {\n        console.log('this....', this) // this 默认是 undefined\n        this.setState({\n            name: 'lisi'\n        })\n    }\n    // 静态方法，this 指向当前实例\n    clickHandler2 = () => {\n        this.setState({\n            name: 'lisi'\n        })\n    }\n    // 获取 event\n    clickHandler3 = (event) => {\n        event.preventDefault()  // 阻止默认行为\n        event.stopPropagation() // 阻止冒泡\n        console.log('target', event.target) // 指向当前元素，即当前元素触发\n        console.log('current target', event.currentTarget) // 指向当前元素，假象！！！\n\n        // 注意:event 其实是 React 封装的, 可以看 __proto__.constructor 是 SyntheticEvent 组合事件\n        console.log('event', event) // 不是原生的 Event ，原生的 MouseEvent\n        console.log('event.__proto__.constructor', event.__proto__.constructor)\n\n        // 原生 event 如下: 其 __proto__.constructor 是 MouseEvent\n        console.log('nativeEvent', event.nativeEvent)\n        console.log('nativeEvent target', event.nativeEvent.target)  // 指向当前元素，即当前元素触发\n        console.log('nativeEvent current target', event.nativeEvent.currentTarget) // 指向 document ！！！\n\n        // 1. event 是 SyntheticEvent ，模拟出来 DOM 事件所有能力\n        // 2. event.nativeEvent 是原生事件对象\n        // 3. 所有的事件，都被挂载到 document 上\n        // 4. 和 DOM 事件不一样，和 Vue 事件也不一样\n    }\n    // 传递参数\n    clickHandler4(id, title, event) {\n        console.log(id, title)\n        console.log('event', event) // 最后追加一个参数，即可接收 event\n    }\n}\n\nexport default EventDemo\n"]},"metadata":{},"sourceType":"module"}